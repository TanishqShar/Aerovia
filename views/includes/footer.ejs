<style>
    .dark-mode .feedback-container {
        background-color: #2e2e2e;
        box-shadow: 5px 10px 15px rgba(0, 0, 0, 0.712);
    }

    .dark-mode #review-form input,
    .dark-mode #review-form textarea {
        background-color: #787878 !important;
        border: 2px solid #c1bfbf !important;
        color: white !important;
    }

    .dark-mode #review-form input:focus,
    .dark-mode #review-form textarea:focus {
        background-color: #787878 !important;
        border: 2px solid #cdcdcd !important;
    }

    .dark-mode #review-form input::placeholder,
    .dark-mode #review-form textarea::placeholder {
        color: #dadada !important;
    }

    #footer {
        background-image: url('footer_bg3.png');
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
        padding: 0 0;
        backdrop-filter: blur(8px);
        -webkit-backdrop-filter: blur(8px);
    }

    #contact-us {
        padding: 15px;
        border-radius: 10px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        margin: 20px 0;
        color: #030303 !important;
    }

    .contact-icon {
        color: #000000 !important;
        font-size: 2rem;
        margin-right: 10px;
        transition: color 0.3s ease;
    }

    .feedback-popup {
        display: none;
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        z-index: 9999;
        background: white;
        padding: 30px;
        border-radius: 10px;
        width: 90%;
        max-width: 600px;
        box-shadow: 0 0 15px rgba(0,0,0,0.3);
    }

    .feedback-popup .feedback-container {
        width: 100%;
    }
</style>

<footer class="container" id="footer">
    <div class="footer-left">
        <div class="brand">
            <div class="wrapper six">
                <div>
                    <h3 class="flicker">Aerovia</h3>
                </div>
            </div>
            <p>Where adventure meets comfort.</p>
        </div>
        <!-- <div class="contact-info" id="contact-us">
            <div class="email" style="display: flex; align-items: center;">
                <i class="fas fa-envelope contact-icon" style="position: relative; bottom: 10px;"></i>
                <p>Need assistance with your booking or any inquiries?<br>
                    <a href="mailto:support@Aerovia.com" class="mail">supportAerovia@gmail.com</a>
                </p>
            </div>
            <div class="phone" style="display: flex; align-items: center;">
                <i class="fas fa-phone contact-icon" style="position: relative; bottom: 10px;"></i>
                <p>Available 24/7<br><a href="tel:+919876543210" class="mobile">+91-0123456789</a></p>
            </div>
        </div> -->
    </div>

    <div class="footer-middle">
        <div class="company-links">
            <h3>Company</h3>
            <ul>
                <li><a href="/about">About Us</a></li>
                <li><a href="/privacy">Privacy Policy</a></li>
                <li><a href="/terms">Terms & Conditions</a></li>
                
            </ul>
        </div>
    </div>

    <div class="footer-right">
        <h3>Connect with us</h3>
        <div class="social-media">
            <a href="#"><i class="fab fa-instagram"></i></a>
            <a href="#"><i class="fab fa-facebook"></i></a>
            <a href="#"><i class="fab fa-twitter"></i></a>
        </div>
        <div class="feedback">
            <% if (typeof currUser !== 'undefined' && currUser) { %>
                <button id="feedback">Give your Feedback</button>
            <% } else { %>
                <a href="/login">
                    <button id="feedback">Give your Feedback</button>
                </a>
            <% } %>
        </div>
    </div>

    <div class="copyright">
        <p>© <span id="year"></span> AEROVIA Private Limited. All rights reserved.</p>
    </div>

    <% if (typeof currUser !== 'undefined' && currUser) { %>
    <div class="feedback-popup">
        <div class="feedback-container">
            <h2 data-aos="zoom-out-down" data-aos-duration="1200" data-aos-delay="200">Share Your Aerovia Experience!</h2>
            <form method="POST" action="/feedback" id="review-form" novalidate class="needs-validation">
                <div class="star-rating" id="rating" aria-label="Rating" role="radiogroup" data-aos="zoom-out-down">
                    <input type="radio" id="star5" name="feedback[rating]" value="5" />
                    <label for="star5" title="5 stars">★</label>
                    <input type="radio" id="star4" name="feedback[rating]" value="4" />
                    <label for="star4" title="4 stars">★</label>
                    <input type="radio" id="star3" name="feedback[rating]" value="3" />
                    <label for="star3" title="3 stars">★</label>
                    <input type="radio" id="star2" name="feedback[rating]" value="2" />
                    <label for="star2" title="2 stars">★</label>
                    <input type="radio" id="star1" name="feedback[rating]" value="1" />
                    <label for="star1" title="1 star">★</label>
                    <div class="invalid-feedback">Please add a title!</div>
                </div>

                <input type="text" id="name" name="feedback[name]" class="feedback-name form-control" placeholder="Enter your name here.">
                <textarea id="comment" name="feedback[comment]" class="feedback-comment form-control" placeholder="Enter your comment here...." required></textarea>

                <div class="feed-buttons">
                    <button id="close-button" class="close-button btn btn-secondary">Close</button>
                    <button type="submit" class="submit-button btn btn-danger" data-aos="zoom-out-down">Submit</button>
                </div>
            </form>
        </div>
    </div>
    <% } %>
</footer>

<script>
    document.getElementById('year').textContent = new Date().getFullYear();

    const feedbackBtn = document.getElementById("feedback");
    const popup = document.querySelector(".feedback-popup");
    const closeBtn = document.getElementById("close-button");

    if (feedbackBtn && popup && closeBtn) {
        feedbackBtn.addEventListener("click", function (e) {
            e.preventDefault();
            popup.style.display = "block";
        });

        closeBtn.addEventListener("click", function (e) {
            e.preventDefault();
            popup.style.display = "none";
        });
    }
</script>
